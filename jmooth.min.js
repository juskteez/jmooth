function debounce(s, l, r) {
    var e;
    return function() {
        var o = this, t = arguments, c = function() {
            e = null, r || s.apply(o, t);
        }, a = r && !e;
        clearTimeout(e), e = setTimeout(c, l), a && s.apply(o, t);
    };
}

function prlBlockImg() {
    for (i = 0; i < blockIMGs.length; i++) theAxis ? blockIMGs[i].style.right = 1.25 * prlSpeed * i + "vw" : blockIMGs[i].style.bottom = prlSpaceY * i + "vh";
}

function closeScroll() {
    $body.classList.remove("im_scrolling");
}

function jmoothScroller() {
    requestAnimationFrame(jmoothScroller);
    var s = 0, l = 0;
    theAxis ? (s = scrollXaxis / vsbW * 100, l = scrollXaxis / prlSpeed) : (s = scrollYaxis / vsbH * 100, 
    l = scrollYaxis / prlSpeed);
    var r = s * scrPrcs / 100;
    for (isNaN(r) && (r = 0), scrollPos += theAxis ? (scrollXaxis - scrollPos) * ease : (scrollYaxis - scrollPos) * ease, 
    scrBarPos += (r - scrBarPos) * ease, progress && (scrProgess += (s - scrProgess) * ease), 
    prlxPos += (l - prlxPos) * ease, theAxis ? (trF = "translate3d(" + scrollPos + "px,0,0)", 
    scF = "translate3d(" + -1 * scrBarPos + "px,0,0)") : (trF = "translate3d(0px," + scrollPos + "px,0)", 
    scF = "translate3d(0px," + -1 * scrBarPos + "px,0)"), i = 0; i < blockIMGs.length; i++) blockIMGs[i].style.transform = theAxis ? "translate3d(" + .8 * prlxPos * -1 + "px,0,0)" : "translate3d(0px," + -1 * prlxPos + "px,0)";
    cStyle["-webkit-transform"] = trF, cStyle.transform = trF, sStyle["-webkit-transform"] = scF, 
    sStyle.transform = scF, progress && (pStyle.height = Math.abs(scrProgess) + "%");
}

var content = document.getElementById("content"), scrlBar = document.createElement("DIV"), scrlPrg = document.createElement("DIV"), blockIMGs = document.getElementsByClassName("block-image"), $body = document.body, cStyle = content.style, sStyle = scrlBar.style, pStyle = scrlPrg.style, scrollYaxis = 0, scrollXaxis = 0, scrollPos = 0, scrBarPos = 0, scrProgess = 0, prlxPos = 0, loaded = !1, theAxis = !1, progress = !0, trF, scF, bodyH, wdH, vsbH, bodyW, wdW, vsbW, scrPrcs, clearScroll, i;

content.classList.contains("horizontal") && (theAxis = !0), scrlBar.setAttribute("id", "jmooth_scrollbar"), 
$body.appendChild(scrlBar), progress && (scrlPrg.setAttribute("id", "jmooth_scrollprogress"), 
$body.appendChild(scrlPrg));

var firefox = navigator.userAgent.indexOf("Firefox") > -1, scrollSpeed = 2, FFscrlSpeed = .15 / scrollSpeed, scrollStep = 200, prlSpeed = 5, prlSpaceY = prlSpeed / 2.85, ease = .075;

firefox && (scrollSpeed = FFscrlSpeed);

var addEvent = function(s, l, r) {
    null != s && void 0 !== s && (s.addEventListener ? s.addEventListener(l, r, !1) : s.attachEvent ? s.attachEvent("on" + l, r) : s["on" + l] = r);
}, scrollRecall = debounce(function() {
    theAxis ? (bodyW = content.offsetWidth, wdW = window.innerWidth, vsbW = bodyW - wdW, 
    scrPrcs = wdW - scrlBar.offsetWidth, scrollXaxis = Math.max(-1 * vsbW, scrollXaxis), 
    trF = "translate3d(" + scrollPos + "px,0,0)", scF = "translate3d(" + -1 * scrBarPos + "px,0,0)") : (bodyH = content.offsetHeight, 
    wdH = window.innerHeight, vsbH = bodyH - wdH, scrPrcs = wdH - scrlBar.offsetHeight, 
    scrollYaxis = Math.max(-1 * vsbH, scrollYaxis), trF = "translate3d(0px," + scrollPos + "px,0)", 
    scF = "translate3d(0px," + -1 * scrBarPos + "px,0)"), cStyle["-webkit-transform"] = trF, 
    cStyle.transform = trF, sStyle["-webkit-transform"] = scF, sStyle.transform = scF;
}, 0);

window.onload = function() {
    theAxis ? (bodyW = content.offsetWidth, wdW = window.innerWidth, vsbW = bodyW - wdW, 
    scrPrcs = wdW - scrlBar.offsetWidth) : (bodyH = content.offsetHeight, wdH = window.innerHeight, 
    vsbH = bodyH - wdH, scrPrcs = wdH - scrlBar.offsetHeight), loaded = !0, $body.classList.add("page_loaded"), 
    prlBlockImg(), jmoothScroller(), addEvent(window, "resize", scrollRecall, 250);
}, document.addEventListener("wheel", function(s) {
    loaded && ($body.classList.contains("im_scrolling") ? (clearTimeout(clearScroll), 
    clearScroll = setTimeout(closeScroll, 250)) : $body.classList.add("im_scrolling"), 
    theAxis ? (scrollXaxis += (s.deltaY + s.deltaX) / scrollSpeed * -1, scrollXaxis = Math.max(-1 * vsbW, scrollXaxis), 
    scrollXaxis = Math.min(0, scrollXaxis)) : (scrollYaxis += s.deltaY / scrollSpeed * -1, 
    scrollYaxis = Math.max(-1 * vsbH, scrollYaxis), scrollYaxis = Math.min(0, scrollYaxis)));
}), document.addEventListener("keydown", function(s) {
    var l = s.which || s.keyCode || s.charCode;
    !loaded || 37 != l && 38 != l && 39 != l && 40 != l || (s.preventDefault(), $body.classList.contains("im_scrolling") ? (clearTimeout(clearScroll), 
    clearScroll = setTimeout(closeScroll, 250)) : $body.classList.add("im_scrolling"), 
    theAxis ? (37 == l && (scrollXaxis += scrollStep), 39 == l && (scrollXaxis -= scrollStep), 
    scrollXaxis = Math.max(-1 * vsbW, scrollXaxis), scrollXaxis = Math.min(0, scrollXaxis)) : (38 == l && (scrollYaxis += scrollStep), 
    40 == l && (scrollYaxis -= scrollStep), scrollYaxis = Math.max(-1 * vsbH, scrollYaxis), 
    scrollYaxis = Math.min(0, scrollYaxis)));
});